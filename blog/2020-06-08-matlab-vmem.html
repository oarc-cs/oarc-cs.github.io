
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Virtual Memory Consumption of Matlab Graphical User Interface on Hoffman2 Cluster &#8212; UCLA OARC Computational Science</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/cs.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-7F4PVWBZ8T"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-7F4PVWBZ8T');
            </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Virtual Memory Size of Launching RStudio on Hoffman2 Cluster" href="2020-06-11-rstudio-vmem.html" />
    <link rel="prev" title="Building GCC compilers on an HPC cluster" href="2020-05-20-building-gcc.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/oarc-cs-logo.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/oarc-cs-logo.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Home
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../workshops.html">
  Workshops
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../blog.html">
  Posts
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../resources.html">
  Resources
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<div class="sidebar-primary col-12 col-md-1 col-xl-2 bd-sidebar no-sidebar"></div>


          


<div class="bd-sidebar-secondary d-none d-md-block col-md-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#benchmark-details">
   Benchmark details
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#results">
   Results
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-8">
              
              <article class="bd-article" role="main">
                
  <section id="virtual-memory-consumption-of-matlab-graphical-user-interface-on-hoffman2-cluster">
<h1>Virtual Memory Consumption of Matlab Graphical User Interface on Hoffman2 Cluster<a class="headerlink" href="#virtual-memory-consumption-of-matlab-graphical-user-interface-on-hoffman2-cluster" title="Permalink to this headline">#</a></h1>
<p>2020-06-08</p>
<p><em>Feb 2022 NOTE: some of the information in this post may be outdated.</em></p>
<p>In this technical note, We report the <a class="reference external" href="https://en.wikipedia.org/wiki/Virtual_memory">virtual
memory</a> consumption when
launching the MATLAB’s graphical user interface (GUI) and text user
interfaces (TUI), respectively, on Hoffman2 Cluster. Currently, Hoffman2
cluster’s job scheduler enforces the virtual memory limit on jobs based
on the value of the job parameter <code class="docutils literal notranslate"><span class="pre">h_data</span></code>. It is important to set
<code class="docutils literal notranslate"><span class="pre">h_data</span></code> large enough before launching a Matlab job. When the virtual
memory use exceeds the specified value, the job is terminated instantly.
On the other hand, if <code class="docutils literal notranslate"><span class="pre">h_data</span></code> is excessively large, it may be difficult
for the scheduler to allocate the required computing resources,
resulting in long (or infinite) wait time. The results, reported below,
will show that launching the graphical user interface consumes
significant more virtual memory than the text user interface. From the
standpoint of conserving virtual memory use, the text-based user
interface should be considered, if possible. All benchmarks reported
below refers to launching only the Matlab interface <em>without loading any
user data</em>. At the time of this writing, there are multiple MATLAB
versions available on Hoffman2 cluster. We focus on Matlab versions 8.6
(R2015b) and 9.7 (R2019b).</p>
<section id="benchmark-details">
<h2>Benchmark details<a class="headerlink" href="#benchmark-details" title="Permalink to this headline">#</a></h2>
<p>The benchmarks of virtual memory consumption of launching the MATLAB
user interfaces were performed on selected CPU models. Both the
text-based and the graphical user interfaces were tested. The desired
versions of Matlab were loaded into the environment using the module
commands. The virtual memroy consumption readings were from the <code class="docutils literal notranslate"><span class="pre">top</span></code>
command.</p>
<p>To load Matlab 8.6, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module load matlab/8.6
$ which matlab
/u/local/apps/matlab/8.6/bin/matlab
</pre></div>
</div>
<p>To load Matlab 9.7, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module load matlab/9.7
$ which matlab
/u/local/apps/matlab/9.7/bin/matlab
</pre></div>
</div>
<p>To launch the Matlab graphical user interface, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ matlab
</pre></div>
</div>
<p>To launch the Matlab text user interface, the command was:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ matlab -nojvm -nodisplay -nosplash
</pre></div>
</div>
<p>We note that the <code class="docutils literal notranslate"><span class="pre">-nojvm</span></code> option is key to significantly different
virtual memory consumption between Matlab GUI and TUI.</p>
</section>
<section id="results">
<h2>Results<a class="headerlink" href="#results" title="Permalink to this headline">#</a></h2>
<p>The “virtual memroy” column shows the virtual memory consumption for
launching the Matlab (without user data).</p>
<p><img alt="virtual memory consumption of Matlab GUI" src="../_images/gui.png" /></p>
<p><img alt="virtual memory consumption of Matlab TUI" src="../_images/tui.png" /></p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Matlab TUI consumes significantly less virtual memory than its GUI.</p></li>
<li><p>Different Matlab versions consume significantly different amount of virtual memory.</p></li>
<li><p>Matlab consumes significant different amounts of virtual memory on different CPU models.</p></li>
<li><p>Matlab 9.7 GUI consumes significantly more virtual memory than Matlab 8.6 GUI.</p></li>
</ul>
</section>
</section>


              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, This page is maintained by UCLA OARC Computational Science Group.<br>
</p>
  </div>
  
  <div class="footer-item">
    

  </div>
  
</div>
</footer>
  </body>
</html>